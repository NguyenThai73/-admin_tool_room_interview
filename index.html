<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>応募者</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            DEFAULT: '#4338ca',
                            50: '#eef2ff',
                            100: '#e0e7ff',
                            600: '#4338ca',
                            700: '#3730a3',
                            800: '#312e81',
                        },
                        sidebar: {
                            bg: '#2d1b69',
                            active: '#3730a3',
                        }
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-gray-50">
    <!-- Sidebar Container -->
    <div id="sidebar-container"></div>
    <script src="i18n.js"></script>
    <script src="sidebar.js"></script>

    <!-- Interview Detail Modal -->
    <div id="interviewModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto mx-4">
            <!-- Modal Header -->
            <div class="sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between rounded-t-xl">
                <h2 class="text-xl font-semibold text-gray-900" data-i18n="interviewReportDetail"></h2>
                <button id="closeModal" class="text-gray-400 hover:text-gray-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>

            <!-- Modal Content -->
            <div class="p-6">
                <!-- Applicant Info -->
                <div class="mb-6">
                    <h3 id="modalApplicantName" class="text-lg font-medium text-gray-900 mb-4"></h3>

                    <div class="grid grid-cols-2 gap-6">
                        <div>
                            <p class="text-sm text-gray-600 mb-1" data-i18n="interviewDate"></p>
                            <p id="modalInterviewDate" class="text-base font-medium text-gray-900"></p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-600 mb-1" data-i18n="time"></p>
                            <p id="modalInterviewTime" class="text-base font-medium text-gray-900"></p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-600 mb-1" data-i18n="overallScore"></p>
                            <p id="modalOverallScore" class="text-2xl font-bold text-green-600"></p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-600 mb-1" data-i18n="rating"></p>
                            <span id="modalRating" class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium"></span>
                        </div>
                    </div>
                </div>

                <!-- Tab Navigation -->
                <div class="flex gap-0 border-b border-gray-200 mb-6">
                    <button class="tab-btn active flex-1 px-6 py-3 text-sm font-medium bg-white border-t border-l border-r border-gray-200 rounded-t-lg text-gray-900 -mb-px" data-tab="analysis" data-i18n="aiAnalysis"></button>
                    <button class="tab-btn flex-1 px-6 py-3 text-sm font-medium bg-gray-50 text-gray-600 hover:bg-gray-100 border-b border-gray-200" data-tab="evaluation" data-i18n="overallEvaluation"></button>
                    <button class="tab-btn flex-1 px-6 py-3 text-sm font-medium bg-gray-50 text-gray-600 hover:bg-gray-100 border-b border-gray-200" data-tab="content" data-i18n="interviewContent"></button>
                </div>

                <!-- Tab Content: AI Analysis -->
                <div id="tab-analysis" class="tab-content">
                    <h4 class="text-base font-semibold text-gray-900 mb-6" data-i18n="abilityEvaluation"></h4>

                    <!-- Ability Bars -->
                    <div class="space-y-6">
                        <div>
                            <div class="flex items-center justify-between mb-3">
                                <span class="text-sm font-normal text-gray-900" data-i18n="communicationSkills"></span>
                                <span class="text-sm font-bold text-gray-900">92点</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2.5">
                                <div class="bg-[#312e81] h-2.5 rounded-full" style="width: 92%"></div>
                            </div>
                        </div>

                        <div>
                            <div class="flex items-center justify-between mb-3">
                                <span class="text-sm font-normal text-gray-900" data-i18n="technicalSkills"></span>
                                <span class="text-sm font-bold text-gray-900">85点</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2.5">
                                <div class="bg-[#312e81] h-2.5 rounded-full" style="width: 85%"></div>
                            </div>
                        </div>

                        <div>
                            <div class="flex items-center justify-between mb-3">
                                <span class="text-sm font-normal text-gray-900" data-i18n="problemSolving"></span>
                                <span class="text-sm font-bold text-gray-900">85点</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2.5">
                                <div class="bg-[#312e81] h-2.5 rounded-full" style="width: 85%"></div>
                            </div>
                        </div>

                        <div>
                            <div class="flex items-center justify-between mb-3">
                                <span class="text-sm font-normal text-gray-900" data-i18n="cultureFit"></span>
                                <span class="text-sm font-bold text-gray-900">90点</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2.5">
                                <div class="bg-[#312e81] h-2.5 rounded-full" style="width: 90%"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tab Content: Overall Evaluation -->
                <div id="tab-evaluation" class="tab-content hidden">
                    <!-- Overall Text -->
                    <div class="bg-gray-50 rounded-lg p-4 mb-6">
                        <h4 class="text-base font-semibold text-gray-900 mb-3" data-i18n="overallEvaluationText"></h4>
                        <p class="text-sm text-gray-700 leading-relaxed">
                            非常に優秀な候補者です。明るく元気な接客態度で、お客様とのコミュニケーション能力が高いです。小売業での経験も豊富で、即戦力として活躍できる人材です。
                        </p>
                    </div>

                    <!-- Strengths -->
                    <div class="bg-gray-50 rounded-lg p-4 mb-6">
                        <h4 class="text-base font-semibold text-gray-900 mb-3" data-i18n="strengths"></h4>
                        <ul class="space-y-2">
                            <li class="flex items-start gap-2 text-sm text-gray-700">
                                <svg class="w-5 h-5 text-green-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                </svg>
                                <span>明るく元気な接客態度</span>
                            </li>
                            <li class="flex items-start gap-2 text-sm text-gray-700">
                                <svg class="w-5 h-5 text-green-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                </svg>
                                <span>小売店での2年間の実務経験</span>
                            </li>
                            <li class="flex items-start gap-2 text-sm text-gray-700">
                                <svg class="w-5 h-5 text-green-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                </svg>
                                <span>高いコミュニケーション能力</span>
                            </li>
                            <li class="flex items-start gap-2 text-sm text-gray-700">
                                <svg class="w-5 h-5 text-green-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                </svg>
                                <span>シフトの柔軟な対応が可能</span>
                            </li>
                            <li class="flex items-start gap-2 text-sm text-gray-700">
                                <svg class="w-5 h-5 text-green-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                </svg>
                                <span>チームワークを大切にする姿勢</span>
                            </li>
                        </ul>
                    </div>

                    <!-- Concerns -->
                    <div class="bg-gray-50 rounded-lg p-4 mb-6">
                        <h4 class="text-base font-semibold text-gray-900 mb-3" data-i18n="concerns"></h4>
                        <ul class="space-y-2">
                            <li class="flex items-start gap-2 text-sm text-gray-700">
                                <svg class="w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                </svg>
                                <span>ドラッグストアでの経験がない</span>
                            </li>
                            <li class="flex items-start gap-2 text-sm text-gray-700">
                                <svg class="w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                </svg>
                                <span>医薬品知識が限定的</span>
                            </li>
                        </ul>
                    </div>

                    <!-- Recommendation -->
                    <div class="bg-primary-50 rounded-lg p-4">
                        <h4 class="text-base font-semibold text-gray-900 mb-3" data-i18n="recommendation"></h4>
                        <p class="text-sm text-gray-700 leading-relaxed">
                            強く推薦します。接客スキルが高く、チームに良い影響を与えられる人材です。
                        </p>
                    </div>
                </div>

                <!-- Tab Content: Interview Content -->
                <div id="tab-content" class="tab-content hidden">
                    <h4 class="text-sm text-gray-600 mb-4" data-i18n="questionAndAnswer"></h4>

                    <!-- Questions Container with max height and scroll -->
                    <div class="space-y-6 max-h-[400px] overflow-y-auto pr-2">
                        <!-- Question 1 -->
                        <div class="border-l-4 border-[#312e81] pl-4">
                            <div class="flex items-start justify-between mb-2">
                                <h5 class="text-base font-semibold text-gray-900"><span data-i18n="question"></span> 1</h5>
                                <span class="text-sm text-gray-500">90点</span>
                            </div>
                            <p class="text-sm text-gray-900 mb-2">自己紹介をお願いします</p>
                            <p class="text-sm text-gray-700 leading-relaxed">
                                はい、岡本拓也と申します。現在大学3年生で、小売店でアルバイトを2年間続けています。お客様と接することが好きで、笑顔で元気な接客を心がけています。
                            </p>
                        </div>

                        <!-- Question 2 -->
                        <div class="border-l-4 border-[#312e81] pl-4">
                            <div class="flex items-start justify-between mb-2">
                                <h5 class="text-base font-semibold text-gray-900"><span data-i18n="question"></span> 2</h5>
                                <span class="text-sm text-gray-500">88点</span>
                            </div>
                            <p class="text-sm text-gray-900 mb-2">小売業での経験について教えてください</p>
                            <p class="text-sm text-gray-700 leading-relaxed">
                                小売店で2年間販売スタッフとして働いています。接客、商品陳列、在庫管理など一通りの業務を経験しました。特に忙しい時間帯は、効率的な動きとチームワークが重要だと学びました。
                            </p>
                        </div>

                        <!-- Question 3 -->
                        <div class="border-l-4 border-[#312e81] pl-4">
                            <div class="flex items-start justify-between mb-2">
                                <h5 class="text-base font-semibold text-gray-900"><span data-i18n="question"></span> 3</h5>
                                <span class="text-sm text-gray-500">92点</span>
                            </div>
                            <p class="text-sm text-gray-900 mb-2">お客様対応で大切にしていることは何ですか？</p>
                            <p class="text-sm text-gray-700 leading-relaxed">
                                笑顔と元気な挨拶を心がけています。お客様の表情や様子を見て、必要なタイミングでお声がけすることも大切だと思います。また、お客様の要望には迅速に対応するように心がけています。
                            </p>
                        </div>

                        <!-- Question 4 -->
                        <div class="border-l-4 border-[#312e81] pl-4">
                            <div class="flex items-start justify-between mb-2">
                                <h5 class="text-base font-semibold text-gray-900"><span data-i18n="question"></span> 4</h5>
                                <span class="text-sm text-gray-500">80点</span>
                            </div>
                            <p class="text-sm text-gray-900 mb-2">医薬品の知識はありますか？</p>
                            <p class="text-sm text-gray-700 leading-relaxed">
                                専門的な知識はまだありませんが、入社後にしっかり学んで、お客様に適切なアドバイスができるようになりたいです。
                            </p>
                        </div>

                        <!-- Question 5 -->
                        <div class="border-l-4 border-[#312e81] pl-4">
                            <div class="flex items-start justify-between mb-2">
                                <h5 class="text-base font-semibold text-gray-900"><span data-i18n="question"></span> 5</h5>
                                <span class="text-sm text-gray-500">95点</span>
                            </div>
                            <p class="text-sm text-gray-900 mb-2">シフトの希望はありますか？</p>
                            <p class="text-sm text-gray-700 leading-relaxed">
                                平日の夕方以降と週末は入れます。学業との両立を考えていますが、繁忙期などは柔軟に対応できます。
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="ml-60 h-screen flex flex-col">
        <!-- Header -->
        <header class="bg-white border-b border-gray-200 px-8 py-4 flex-shrink-0">
            <h1 class="text-2xl font-semibold text-gray-900 mb-4" data-i18n="applicants"></h1>
            <div class="flex items-center justify-between">
                <div class="flex-1">
                    <div class="relative">
                        <input type="text" id="searchInput" data-i18n-placeholder="searchPlaceholder" class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-600 focus:border-transparent">
                        <svg class="w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none"
                            stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                    </div>
                </div>
                <button class="ml-4 px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition" data-i18n="search">
                </button>
            </div>

            <!-- Filters -->
            <div class="flex items-center gap-4 mt-4">
                <select id="filterStatus" onchange="applyFilters()"
                    class="px-4 py-2 border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary-600">
                    <option value="" data-i18n="all"></option>
                    <option value="未設定" data-i18n="notSet"></option>
                    <option value="完遂" data-i18n="completed"></option>
                    <option value="採用" data-i18n="hired"></option>
                    <option value="不採用" data-i18n="rejected"></option>
                    <option value="待機" data-i18n="waiting"></option>
                </select>
                <select id="filterInterview" onchange="applyFilters()"
                    class="px-4 py-2 border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary-600">
                    <option value="" data-i18n="all"></option>
                    <option value="完遂" data-i18n="completed"></option>
                    <option value="途中経過" data-i18n="inProgress"></option>
                </select>
                <select id="filterCategory" onchange="applyFilters()"
                    class="px-4 py-2 border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary-600">
                    <option value="" data-i18n="all"></option>
                    <option value="新卒" data-i18n="newGraduate"></option>
                    <option value="中途" data-i18n="midCareer"></option>
                    <option value="アルバイト" data-i18n="partTime"></option>
                </select>
                <div class="relative">
                    <button id="filterOptionsBtn" onclick="toggleFilterPopup()"
                        class="px-4 py-2 border border-gray-300 rounded-lg bg-white hover:bg-gray-50 transition flex items-center gap-2">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z" />
                        </svg>
                        <span data-i18n="filterOptions"></span>
                    </button>

                    <!-- Filter Popup -->
                    <div id="filterPopup" class="hidden absolute top-full mt-2 right-0 w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-50">
                        <div class="p-4">
                            <h3 class="font-semibold text-gray-900 mb-4" data-i18n="positionName"></h3>
                            <div class="space-y-2 max-h-80 overflow-y-auto">
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                    <input type="checkbox" value="法務" class="position-checkbox w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500">
                                    <span class="text-sm text-gray-700" data-i18n="legal"></span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                    <input type="checkbox" value="人事" class="position-checkbox w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500">
                                    <span class="text-sm text-gray-700" data-i18n="hr"></span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                    <input type="checkbox" value="事務" class="position-checkbox w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500">
                                    <span class="text-sm text-gray-700" data-i18n="admin"></span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                    <input type="checkbox" value="フロントエンドエンジニア" class="position-checkbox w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500">
                                    <span class="text-sm text-gray-700" data-i18n="frontendDev"></span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                    <input type="checkbox" value="バックエンドエンジニア" class="position-checkbox w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500">
                                    <span class="text-sm text-gray-700" data-i18n="backendDev"></span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                    <input type="checkbox" value="デザイナー" class="position-checkbox w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500">
                                    <span class="text-sm text-gray-700" data-i18n="designer"></span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                    <input type="checkbox" value="広報・PR" class="position-checkbox w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500">
                                    <span class="text-sm text-gray-700" data-i18n="pr"></span>
                                </label>
                            </div>
                            <div class="flex gap-2 mt-4 pt-4 border-t border-gray-200">
                                <button onclick="clearPositionFilter()" class="flex-1 px-4 py-2 border border-gray-300 rounded-lg text-sm text-gray-700 hover:bg-gray-50" data-i18n="clear">
                                </button>
                                <button onclick="confirmPositionFilter()" class="flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg text-sm hover:bg-primary-700" data-i18n="confirm">
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Data Table -->
        <div class="flex-1 p-4 overflow-hidden">
            <div class="bg-white rounded-lg shadow h-full flex flex-col">
                <div class="flex-1 overflow-x-auto overflow-y-auto" id="tableContainer">
                    <table class="w-full">
                        <thead class="bg-gray-50 border-b border-gray-200">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-i18n="evaluationStatus"></th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-i18n="interviewStatus"></th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-i18n="category"></th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-i18n="positionName"></th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-i18n="applicantName"></th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-i18n="email"></th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-i18n="interviewDate"></th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-i18n="overallRating"></th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-i18n="actions"></th>
                            </tr>
                        </thead>
                        <tbody id="applicantsTableBody" class="bg-white divide-y divide-gray-200">
                            <!-- Data will be loaded dynamically -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Pagination - Fixed at bottom -->
        <div class="flex-shrink-0 bg-white border-t border-gray-200 px-8 py-4 shadow-lg">
            <div class="flex items-center justify-between">
                <div id="totalCount" class="text-sm text-gray-700">
                    0 / 0件
                </div>
                <div class="flex gap-2">
                    <button class="px-3 py-1 border border-gray-300 rounded bg-white hover:bg-gray-50">1</button>
                    <button class="px-3 py-1 border border-gray-300 rounded bg-white hover:bg-gray-50">2</button>
                    <button class="px-3 py-1 border border-gray-300 rounded bg-white hover:bg-gray-50">3</button>
                    <button class="px-3 py-1 border border-gray-300 rounded bg-white hover:bg-gray-50">...</button>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Configuration
        const ITEMS_PER_PAGE = 50;

        // Filter state
        let selectedPositions = [];

        // All applicants data (mock database)
        const allApplicantsData = [
            {
                status: '未設定',
                interview: '完遂',
                category: '新卒',
                position: 'フロントエンドエンジニア',
                name: '岡本拓也',
                email: 'okamoto.takuya@example.com',
                date: '2024/10/12',
                score: 80,
                rowClass: ''
            },
            {
                status: '未設定',
                interview: '完遂',
                category: 'アルバイト',
                position: 'バックエンドエンジニア',
                name: '田中美奈子',
                email: 'tanaka.minako@example.com',
                date: '2024/10/12',
                score: 80,
                rowClass: ''
            },
            {
                status: '未設定',
                interview: '完遂',
                category: '中途',
                position: '法務',
                name: '鈴木昌',
                email: 'suzuki.masashi@example.com',
                date: '2024/10/12',
                score: 100,
                rowClass: ''
            },
            {
                status: '未設定',
                interview: '途中経過 (2/5)',
                category: '中途',
                position: '広報・PR',
                name: '伊藤遥',
                email: 'ito.haruka@example.com',
                date: '2024/10/12',
                score: 60,
                rowClass: ''
            },
            {
                status: '採用',
                statusBadge: true,
                statusClass: 'bg-green-100 text-green-800',
                interview: '完遂',
                category: 'アルバイト',
                position: '人事',
                name: '藤原明大',
                email: 'fujiwara.akita@example.com',
                date: '2024/10/12',
                score: 100,
                rowClass: 'bg-green-50'
            },
            {
                status: '不採用',
                interview: '完遂',
                category: 'アルバイト',
                position: '広報・PR',
                name: '中嶋明日',
                email: 'nakajima.asuka@example.com',
                date: '2024/10/12',
                score: 40,
                rowClass: ''
            },
            {
                status: '不採用',
                interview: '完遂',
                category: 'アルバイト',
                position: '事務',
                name: '田中明日香',
                email: 'tanaka.asuka@example.com',
                date: '2024/10/12',
                score: 50,
                rowClass: ''
            },
            {
                status: '待機',
                statusBadge: true,
                statusClass: 'bg-yellow-100 text-yellow-800',
                interview: '途中経過 (2/5)',
                category: '中途',
                position: 'デザイナー',
                name: '宝来正樹',
                email: 'horai.masaki@example.com',
                date: '2024/10/12',
                score: 70,
                rowClass: 'bg-yellow-50'
            },
            {
                status: '待機',
                statusBadge: true,
                statusClass: 'bg-yellow-100 text-yellow-800',
                interview: '途中経過 (3/5)',
                category: '新卒',
                position: 'フロントエンドエンジニア',
                name: '山下優里子',
                email: 'yamashita.yuriko@example.com',
                date: '2024/10/12',
                score: 50,
                rowClass: 'bg-yellow-50'
            },
            {
                status: '未設定',
                interview: '完遂',
                category: '新卒',
                position: 'データサイエンティスト',
                name: '佐藤健太',
                email: 'sato.kenta@example.com',
                date: '2024/10/13',
                score: 85,
                rowClass: ''
            },
            {
                status: '採用',
                statusBadge: true,
                statusClass: 'bg-green-100 text-green-800',
                interview: '完遂',
                category: '中途',
                position: 'プロダクトマネージャー',
                name: '高橋真理',
                email: 'takahashi.mari@example.com',
                date: '2024/10/13',
                score: 95,
                rowClass: 'bg-green-50'
            },
            {
                status: '未設定',
                interview: '完遂',
                category: 'アルバイト',
                position: 'カスタマーサポート',
                name: '渡辺花子',
                email: 'watanabe.hanako@example.com',
                date: '2024/10/13',
                score: 75,
                rowClass: ''
            },
            {
                status: '待機',
                statusBadge: true,
                statusClass: 'bg-yellow-100 text-yellow-800',
                interview: '途中経過 (1/5)',
                category: '新卒',
                position: 'マーケティング',
                name: '小林直樹',
                email: 'kobayashi.naoki@example.com',
                date: '2024/10/14',
                score: 65,
                rowClass: 'bg-yellow-50'
            },
            {
                status: '不採用',
                interview: '完遂',
                category: '中途',
                position: 'セールス',
                name: '加藤美咲',
                email: 'kato.misaki@example.com',
                date: '2024/10/14',
                score: 45,
                rowClass: ''
            },
            {
                status: '採用',
                statusBadge: true,
                statusClass: 'bg-green-100 text-green-800',
                interview: '完遂',
                category: '新卒',
                position: 'UXデザイナー',
                name: '山本太郎',
                email: 'yamamoto.taro@example.com',
                date: '2024/10/14',
                score: 90,
                rowClass: 'bg-green-50'
            },
            {
                status: '未設定',
                interview: '完遂',
                category: '新卒',
                position: 'iOS開発',
                name: '石井麻衣',
                email: 'ishii.mai@example.com',
                date: '2024/10/15',
                score: 88,
                rowClass: ''
            },
            {
                status: '採用',
                statusBadge: true,
                statusClass: 'bg-green-100 text-green-800',
                interview: '完遂',
                category: '中途',
                position: 'Android開発',
                name: '木村優斗',
                email: 'kimura.yuto@example.com',
                date: '2024/10/15',
                score: 92,
                rowClass: 'bg-green-50'
            },
            {
                status: '待機',
                statusBadge: true,
                statusClass: 'bg-yellow-100 text-yellow-800',
                interview: '途中経過 (4/5)',
                category: 'アルバイト',
                position: 'QAテスター',
                name: '林美香',
                email: 'hayashi.mika@example.com',
                date: '2024/10/15',
                score: 68,
                rowClass: 'bg-yellow-50'
            },
            {
                status: '不採用',
                interview: '完遂',
                category: '新卒',
                position: 'インフラエンジニア',
                name: '松本健',
                email: 'matsumoto.ken@example.com',
                date: '2024/10/16',
                score: 42,
                rowClass: ''
            },
            {
                status: '未設定',
                interview: '完遂',
                category: '中途',
                position: 'DevOpsエンジニア',
                name: '井上さくら',
                email: 'inoue.sakura@example.com',
                date: '2024/10/16',
                score: 87,
                rowClass: ''
            },
            {
                status: '採用',
                statusBadge: true,
                statusClass: 'bg-green-100 text-green-800',
                interview: '完遂',
                category: '新卒',
                position: 'データアナリスト',
                name: '中村大輔',
                email: 'nakamura.daisuke@example.com',
                date: '2024/10/16',
                score: 94,
                rowClass: 'bg-green-50'
            },
            {
                status: '未設定',
                interview: '途中経過 (2/5)',
                category: 'アルバイト',
                position: 'コンテンツライター',
                name: '清水愛',
                email: 'shimizu.ai@example.com',
                date: '2024/10/17',
                score: 72,
                rowClass: ''
            },
            {
                status: '待機',
                statusBadge: true,
                statusClass: 'bg-yellow-100 text-yellow-800',
                interview: '途中経過 (1/5)',
                category: '中途',
                position: 'プロジェクトマネージャー',
                name: '斎藤隆',
                email: 'saito.takashi@example.com',
                date: '2024/10/17',
                score: 78,
                rowClass: 'bg-yellow-50'
            },
            {
                status: '不採用',
                interview: '完遂',
                category: 'アルバイト',
                position: '経理',
                name: '森田由美',
                email: 'morita.yumi@example.com',
                date: '2024/10/17',
                score: 38,
                rowClass: ''
            },
            {
                status: '採用',
                statusBadge: true,
                statusClass: 'bg-green-100 text-green-800',
                interview: '完遂',
                category: '中途',
                position: 'スクラムマスター',
                name: '橋本誠',
                email: 'hashimoto.makoto@example.com',
                date: '2024/10/18',
                score: 91,
                rowClass: 'bg-green-50'
            }
            ,
            {
                status: '採用',
                statusBadge: true,
                statusClass: 'bg-green-100 text-green-800',
                interview: '完遂',
                category: '中途',
                position: 'スクラムマスター',
                name: '橋本誠',
                email: 'hashimoto.makoto@example.com',
                date: '2024/10/18',
                score: 91,
                rowClass: 'bg-green-50'
            }
            ,
            {
                status: '採用',
                statusBadge: true,
                statusClass: 'bg-green-100 text-green-800',
                interview: '完遂',
                category: '中途',
                position: 'スクラムマスター',
                name: '橋本誠',
                email: 'hashimoto.makoto@example.com',
                date: '2024/10/18',
                score: 91,
                rowClass: 'bg-green-50'
            }
            ,
            {
                status: '採用',
                statusBadge: true,
                statusClass: 'bg-green-100 text-green-800',
                interview: '完遂',
                category: '中途',
                position: 'スクラムマスター',
                name: '橋本誠',
                email: 'hashimoto.makoto@example.com',
                date: '2024/10/18',
                score: 91,
                rowClass: 'bg-green-50'
            }
            ,
            {
                status: '採用',
                statusBadge: true,
                statusClass: 'bg-green-100 text-green-800',
                interview: '完遂',
                category: '中途',
                position: 'スクラムマスター',
                name: '橋本誠',
                email: 'hashimoto.makoto@example.com',
                date: '2024/10/18',
                score: 91,
                rowClass: 'bg-green-50'
            }
        ];

        // Get current page from URL params
        function getCurrentPage() {
            const urlParams = new URLSearchParams(window.location.search);
            const page = parseInt(urlParams.get('page')) || 1;
            return page > 0 ? page : 1;
        }

        // Update URL with new page number
        function updateURL(page) {
            const url = new URL(window.location);
            url.searchParams.set('page', page);
            window.history.pushState({}, '', url);
        }

        // Filter data based on current filters
        function getFilteredData() {
            const statusFilter = document.getElementById('filterStatus').value;
            const interviewFilter = document.getElementById('filterInterview').value;
            const categoryFilter = document.getElementById('filterCategory').value;

            let filtered = allApplicantsData.filter(applicant => {
                // Status filter
                if (statusFilter && applicant.status !== statusFilter) {
                    return false;
                }

                // Interview filter (check if interview contains the filter value)
                if (interviewFilter) {
                    if (interviewFilter === '完遂' && !applicant.interview.includes('完遂')) {
                        return false;
                    }
                    if (interviewFilter === '途中経過' && !applicant.interview.includes('途中経過')) {
                        return false;
                    }
                }

                // Category filter
                if (categoryFilter && applicant.category !== categoryFilter) {
                    return false;
                }

                // Position filter (multi-select)
                if (selectedPositions.length > 0 && !selectedPositions.includes(applicant.position)) {
                    return false;
                }

                return true;
            });

            return filtered;
        }

        // Fetch paginated data (simulating API call)
        function getApplicantsData(page = 1) {
            const filteredData = getFilteredData();
            const startIndex = (page - 1) * ITEMS_PER_PAGE;
            const endIndex = startIndex + ITEMS_PER_PAGE;

            return {
                data: filteredData.slice(startIndex, endIndex),
                total: filteredData.length,
                currentPage: page,
                totalPages: Math.ceil(filteredData.length / ITEMS_PER_PAGE),
                itemsPerPage: ITEMS_PER_PAGE
            };
        }

        // Render table rows
        function renderTableRows(applicantsData) {
            const tbody = document.getElementById('applicantsTableBody');
            tbody.innerHTML = '';

            applicantsData.forEach(applicant => {
                const row = document.createElement('tr');
                row.className = applicant.rowClass;

                const statusCell = applicant.statusBadge
                    ? `<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${applicant.statusClass}">${applicant.status}</span>`
                    : `<span class="text-sm text-gray-700">${applicant.status}</span>`;

                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap">${statusCell}</td>
                    <td class="px-6 py-4 whitespace-nowrap"><span class="text-sm text-gray-700">${applicant.interview}</span></td>
                    <td class="px-6 py-4 whitespace-nowrap"><span class="text-sm text-gray-700">${applicant.category}</span></td>
                    <td class="px-6 py-4 whitespace-nowrap"><span class="text-sm text-gray-700">${applicant.position}</span></td>
                    <td class="px-6 py-4 whitespace-nowrap"><span class="text-sm text-gray-900 font-medium">${applicant.name}</span></td>
                    <td class="px-6 py-4 whitespace-nowrap"><span class="text-sm text-gray-500">${applicant.email}</span></td>
                    <td class="px-6 py-4 whitespace-nowrap"><span class="text-sm text-gray-700">${applicant.date}</span></td>
                    <td class="px-6 py-4 whitespace-nowrap"><span class="text-sm font-semibold text-gray-900">${applicant.score}</span></td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <button onclick="viewResult('${applicant.name}')" class="text-sm text-primary-600 hover:text-primary-700 flex items-center gap-1">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                            </svg>
                            面接結果
                        </button>
                    </td>
                `;

                tbody.appendChild(row);
            });
        }

        // Render pagination buttons
        function renderPagination(paginationInfo) {
            const { currentPage, totalPages, total, itemsPerPage } = paginationInfo;
            const startItem = (currentPage - 1) * itemsPerPage + 1;
            const endItem = Math.min(currentPage * itemsPerPage, total);

            // Update count
            document.getElementById('totalCount').textContent = `${startItem}-${endItem} / ${total}件`;

            // Generate pagination buttons
            const paginationContainer = document.getElementById('paginationButtons');
            paginationContainer.innerHTML = '';

            // Previous button
            if (currentPage > 1) {
                const prevBtn = document.createElement('button');
                prevBtn.className = 'px-3 py-1 border border-gray-300 rounded bg-white hover:bg-gray-50';
                prevBtn.textContent = '前へ';
                prevBtn.onclick = () => goToPage(currentPage - 1);
                paginationContainer.appendChild(prevBtn);
            }

            // Page numbers
            const maxVisiblePages = 5;
            let startPage = Math.max(1, currentPage - Math.floor(maxVisiblePages / 2));
            let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);

            if (endPage - startPage < maxVisiblePages - 1) {
                startPage = Math.max(1, endPage - maxVisiblePages + 1);
            }

            // First page
            if (startPage > 1) {
                const firstBtn = document.createElement('button');
                firstBtn.className = 'px-3 py-1 border border-gray-300 rounded bg-white hover:bg-gray-50';
                firstBtn.textContent = '1';
                firstBtn.onclick = () => goToPage(1);
                paginationContainer.appendChild(firstBtn);

                if (startPage > 2) {
                    const dots = document.createElement('span');
                    dots.className = 'px-2 text-gray-500';
                    dots.textContent = '...';
                    paginationContainer.appendChild(dots);
                }
            }

            // Visible pages
            for (let i = startPage; i <= endPage; i++) {
                const pageBtn = document.createElement('button');
                pageBtn.className = i === currentPage
                    ? 'px-3 py-1 border border-primary-600 rounded bg-primary-600 text-white'
                    : 'px-3 py-1 border border-gray-300 rounded bg-white hover:bg-gray-50';
                pageBtn.textContent = i;
                pageBtn.onclick = () => goToPage(i);
                paginationContainer.appendChild(pageBtn);
            }

            // Last page
            if (endPage < totalPages) {
                if (endPage < totalPages - 1) {
                    const dots = document.createElement('span');
                    dots.className = 'px-2 text-gray-500';
                    dots.textContent = '...';
                    paginationContainer.appendChild(dots);
                }

                const lastBtn = document.createElement('button');
                lastBtn.className = 'px-3 py-1 border border-gray-300 rounded bg-white hover:bg-gray-50';
                lastBtn.textContent = totalPages;
                lastBtn.onclick = () => goToPage(totalPages);
                paginationContainer.appendChild(lastBtn);
            }

            // Next button
            if (currentPage < totalPages) {
                const nextBtn = document.createElement('button');
                nextBtn.className = 'px-3 py-1 border border-gray-300 rounded bg-white hover:bg-gray-50';
                nextBtn.textContent = '次へ';
                nextBtn.onclick = () => goToPage(currentPage + 1);
                paginationContainer.appendChild(nextBtn);
            }
        }

        // Go to specific page
        function goToPage(page) {
            updateURL(page);
            loadPage(page);
        }

        // Load page data
        function loadPage(page) {
            const paginationInfo = getApplicantsData(page);
            renderTableRows(paginationInfo.data);
            renderPagination(paginationInfo);
        }

        // View result - Open modal
        function viewResult(name) {
            const modal = document.getElementById('interviewModal');

            // Sample data for applicants
            const applicantData = {
                '岡本拓也': {
                    position: '新宿店 販売スタッフ（アルバイト）',
                    date: '2024-01-15',
                    time: '25分',
                    score: '88点',
                    rating: '優秀'
                },
                '田中美奈子': {
                    position: '渋谷店 レジスタッフ（アルバイト）',
                    date: '2024-01-14',
                    time: '20分',
                    score: '82点',
                    rating: '良好'
                },
                '山田太郎': {
                    position: '新宿店 店長候補（正社員）',
                    date: '2024-01-13',
                    time: '35分',
                    score: '91点',
                    rating: '優秀'
                }
            };

            const data = applicantData[name] || {
                position: 'フロントエンドエンジニア',
                date: '2024-10-12',
                time: '30分',
                score: '80点',
                rating: '良好'
            };

            // Populate modal with data
            document.getElementById('modalApplicantName').textContent = `${name} - ${data.position}`;
            document.getElementById('modalInterviewDate').textContent = data.date;
            document.getElementById('modalInterviewTime').textContent = data.time;
            document.getElementById('modalOverallScore').textContent = data.score;

            const ratingBadge = document.getElementById('modalRating');
            ratingBadge.textContent = data.rating;

            // Set rating badge color
            if (data.rating === '優秀') {
                ratingBadge.className = 'inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800';
            } else if (data.rating === '良好') {
                ratingBadge.className = 'inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800';
            }

            // Show modal
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        // Initialize modal functionality
        function initializeModal() {
            const modal = document.getElementById('interviewModal');
            const closeModalBtn = document.getElementById('closeModal');

            // Close modal
            closeModalBtn.addEventListener('click', function() {
                modal.classList.add('hidden');
                modal.classList.remove('flex');
            });

            // Close modal when clicking outside
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.classList.add('hidden');
                    modal.classList.remove('flex');
                }
            });

            // Tab switching
            const tabButtons = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');

            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const tabName = this.getAttribute('data-tab');

                    // Remove active state from all tabs
                    tabButtons.forEach(btn => {
                        btn.classList.remove('active', 'bg-white', 'border-t', 'border-l', 'border-r', 'rounded-t-lg', 'text-gray-900', '-mb-px');
                        btn.classList.add('bg-gray-50', 'text-gray-600', 'border-b');
                    });

                    // Add active state to clicked tab
                    this.classList.add('active', 'bg-white', 'border-t', 'border-l', 'border-r', 'rounded-t-lg', 'text-gray-900', '-mb-px');
                    this.classList.remove('bg-gray-50', 'border-b');

                    // Hide all tab contents
                    tabContents.forEach(content => {
                        content.classList.add('hidden');
                    });

                    // Show selected tab content
                    document.getElementById(`tab-${tabName}`).classList.remove('hidden');
                });
            });
        }

        // Toggle filter popup
        function toggleFilterPopup() {
            const popup = document.getElementById('filterPopup');
            popup.classList.toggle('hidden');
        }

        // Close popup when clicking outside
        document.addEventListener('click', function(event) {
            const popup = document.getElementById('filterPopup');
            const btn = document.getElementById('filterOptionsBtn');
            if (popup && btn && !popup.contains(event.target) && !btn.contains(event.target)) {
                popup.classList.add('hidden');
            }
        });

        // Confirm position filter (when clicking 決定 button)
        function confirmPositionFilter() {
            const checkboxes = document.querySelectorAll('.position-checkbox');
            selectedPositions = Array.from(checkboxes)
                .filter(cb => cb.checked)
                .map(cb => cb.value);
            toggleFilterPopup();
            applyFilters();
        }

        // Clear position filter
        function clearPositionFilter() {
            const checkboxes = document.querySelectorAll('.position-checkbox');
            checkboxes.forEach(cb => cb.checked = false);
            selectedPositions = [];
            applyFilters();
        }

        // Apply all filters
        function applyFilters() {
            goToPage(1); // Reset to page 1 when filters change
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function () {
            i18n.updatePage();
            initializeModal();
            const tableContainer = document.getElementById('tableContainer');
            const thead = tableContainer.querySelector('thead');

            // Make header sticky
            thead.style.position = 'sticky';
            thead.style.top = '0';
            thead.style.zIndex = '10';

            // Initialize i18n
            updatePageTranslations();

            // Load current page from URL
            const currentPage = getCurrentPage();
            loadPage(currentPage);
        });

        // Update page translations
        function updatePageTranslations() {
            // Update all elements with data-i18n and data-i18n-placeholder
            i18n.updatePage();
        }

        // Listen for language changes
        window.addEventListener('languageChanged', function() {
            updatePageTranslations();
        });

        // Handle browser back/forward
        window.addEventListener('popstate', function () {
            const currentPage = getCurrentPage();
            loadPage(currentPage);
        });
    </script>
</body>

</html>